<template>
  <div id="app">
    <div class="min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50">
      <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
      <nav class="bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex justify-between h-16">
            <div class="flex items-center">
              <div class="flex-shrink-0 flex items-center">
                <div class="h-8 w-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center">
                  <svg class="h-5 w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                  </svg>
                </div>
                <span class="ml-2 text-xl font-bold text-gray-900">Laravel + Vue</span>
              </div>
            </div>
            <div class="flex items-center space-x-4">
              <ButtonAuth @open-login="openLoginModal" />
              <ButtonRegister @open-register="openRegisterModal" />
            </div>
          </div>
        </div>
      </nav>

      <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
      <main>
        <!-- –ì–µ—Ä–æ–π —Å–µ–∫—Ü–∏—è -->
        <div class="relative overflow-hidden">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24">
            <div class="text-center">
              <h1 class="text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl">
                <span class="block">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤</span>
                <span class="block text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600">
                  Laravel + Vue.js 3
                </span>
              </h1>
              <p class="mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
                –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å Laravel Sail, Vue.js 3, Pinia –∏ Tailwind CSS.
                –ì–æ—Ç–æ–≤ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏–∑ –∫–æ—Ä–æ–±–∫–∏!
              </p>
            </div>
          </div>

          <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
          <div class="absolute inset-y-0 right-0 -z-10 opacity-20">
            <svg class="h-full w-full text-indigo-500" fill="none" viewBox="0 0 100 100" preserveAspectRatio="none">
              <polygon fill="currentColor" points="50,0 100,0 50,100 0,100"/>
            </svg>
          </div>
        </div>

        <!-- –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ -->
        <div class="py-12 bg-white/50">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
              <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">
               –í—Å—Ç—Ä–µ—á–∞–π—Ç–µ, –≥–æ—Ç–æ–≤–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ!
              </p>
            </div>

            <div class="mt-10">
              <div class="grid grid-cols-2 gap-8 md:grid-cols-6">
                
              </div>
            </div>
          </div>
        </div>

        <!-- –û—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º -->
        <SalesReport />

        <!-- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ -->
        <div class="py-12 bg-white/50">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
              <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h2>
              <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">
                –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –∑–∞–¥–∞–Ω–∏–∏
              </p>
            </div>

            <div class="mt-10">
              <div class="grid grid-cols-2 gap-8 md:grid-cols-6">
                <div v-for="tech in technologies" :key="tech.name" class="col-span-1 flex justify-center md:col-span-1">
                  <div class="flex flex-col items-center p-4 rounded-lg hover:bg-white/70 transition-colors">
                    <div class="text-3xl mb-2">{{ tech.icon }}</div>
                    <span class="text-sm font-medium text-gray-600">{{ tech.name }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>  

        <!-- –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏ -->
        <div class="bg-gray-50 py-16">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
              <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
              </h2>
              <p class="mt-4 text-lg text-gray-600">
                –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
              </p>
            </div>

            <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
              <div v-for="link in links" :key="link.title" class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow">
                <a :href="link.url" target="_blank" class="block p-6">
                  <div class="flex items-center">
                    <div class="flex-shrink-0">
                      <div class="text-2xl">{{ link.icon }}</div>
                    </div>
                    <div class="ml-4">
                      <h3 class="text-lg font-medium text-gray-900">{{ link.title }}</h3>
                      <p class="mt-2 text-sm text-gray-500">{{ link.description }}</p>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- –ü–æ–¥–≤–∞–ª -->
      <footer class="bg-white border-t border-gray-200">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
          <div class="text-center">
            <p class="text-sm text-gray-500">
              –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –∏—Å–ø–æ–ª—å–∑—É—è Laravel, Vue.js 3, Pinia –∏ Tailwind CSS
            </p>
            <p class="mt-2 text-xs text-gray-400">
              –ì–æ—Ç–æ–≤ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ ‚Ä¢ Laravel Sail ‚Ä¢ Docker ‚Ä¢ Vite
            </p>
          </div>
        </div>
      </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <Suspense>
      <template #default>
        <LoginModal 
          :isOpen="modals.login" 
          @close="closeModals" 
          @switch-to-register="switchToRegister"
        />
      </template>
      <template #fallback>
        <div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
          <div class="text-white">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
      </template>
    </Suspense>

    <Suspense>
      <template #default>
        <RegisterModal 
          :isOpen="modals.register" 
          @close="closeModals" 
          @switch-to-login="switchToLogin"
        />
      </template>
      <template #fallback>
        <div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
          <div class="text-white">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
      </template>
    </Suspense>
  </div>
</template>

<script setup>
import { ref, reactive, defineAsyncComponent } from 'vue'
import ButtonAuth from './components/buttons/ButtonAuth.vue'
import ButtonRegister from './components/buttons/ButtonRegister.vue'
import SalesReport from './components/SalesReport.vue'

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–∞–ª–æ–∫
const LoginModal = defineAsyncComponent(() => import('./components/modals/LoginModal.vue'))
const RegisterModal = defineAsyncComponent(() => import('./components/modals/RegisterModal.vue'))

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥–∞–ª–æ–∫
const modals = reactive({
  login: false,
  register: false
})

// –ú–µ—Ç–æ–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–∞–ª–∫–∞–º–∏
const openLoginModal = () => {
  closeModals()
  modals.login = true
}

const openRegisterModal = () => {
  closeModals()
  modals.register = true
}

const closeModals = () => {
  modals.login = false
  modals.register = false
}

const switchToRegister = () => {
  modals.login = false
  modals.register = true
}

const switchToLogin = () => {
  modals.register = false
  modals.login = true
}

// –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
const technologies = ref([
  { name: 'Laravel', icon: 'üöÄ' },
  { name: 'Vue.js 3', icon: 'üíö' },
  { name: 'Pinia', icon: 'üçç' },
  { name: 'Tailwind', icon: 'üé®' },
  { name: 'Vite', icon: '‚ö°' },
  { name: 'Docker', icon: 'üê≥' }
])

// –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
const links = ref([
  {
    title: 'Laravel –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è',
    description: '–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Laravel',
    icon: 'üìö',
    url: 'https://laravel.com/docs'
  },
  {
    title: 'Vue.js –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ',
    description: '–ò–∑—É—á–∏—Ç–µ Vue.js 3 –∏ Composition API',
    icon: 'üìñ',
    url: 'https://vuejs.org/guide/'
  },
  {
    title: 'Pinia Store',
    description: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–ª—è Vue.js',
    icon: 'üóÑÔ∏è',
    url: 'https://pinia.vuejs.org/'
  },
  {
    title: 'Tailwind CSS',
    description: 'Utility-first CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫',
    icon: 'üé®',
    url: 'https://tailwindcss.com/docs'
  },
  {
    title: 'Laravel Sail',
    description: 'Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è Laravel',
    icon: '‚õµ',
    url: 'https://laravel.com/docs/sail'
  },
  {
    title: 'Vite',
    description: '–ë—ã—Å—Ç—Ä—ã–π —Å–±–æ—Ä—â–∏–∫ –º–æ–¥—É–ª–µ–π',
    icon: '‚ö°',
    url: 'https://vitejs.dev/'
  }
])
</script> 